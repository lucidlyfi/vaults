// SPDX-License-Identifier: MIT
pragma solidity ^0.8.17;

import {Script} from "../lib/forge-std/src/Script.sol";
import {console} from "../lib/forge-std/src/console.sol";
import {Aggregator} from "../src/Aggregator.sol";

import {Pool} from "../src/Poolv2.sol";

contract AggregatorDeploymentScript is Script {
    Aggregator agg;
    address constant MAGPIEROUTER = 0x15392211222B46A0eA85a9A800830486D144848D;

    address constant pool = 0x82Fbc848eeCeC6D0a2eBdC8A9420826AE8d2952d;
    
    address private ADMIN_ADDRESS = 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266;

    address constant receiver = 0x70997970C51812dc3A010C7d01b50e0d17dc79C8;

    uint256 adminPk = 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80;

    bytes data = "0x73fc44570000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000056d050800e0c886825c3a03e73e6d3f209e8e6dd8933d0d313e00000000000000000000000000000000000000009d39a5de30e57443bff2a8307a4256c8797a3497e000d4b000d9f800e4c000e65b6fb606063d1355b75e7f05e67ca03a773594f732603a47834cf976385ca643183a0bfd0df4533a6ca7aa9e61dcbf192642c95bf045376d15bcffe3d4182d341b0000e0678fc462b0030c7b12f5ed4044177bf800c08ac7230489e80000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc20200ee0300e555084ee0fef03f14a305cd24286359a35d7351510200ee0201080300e50002060706070000000000000000000000000000000000000000000000000000000301250300e50300e5c52ac720f820442a03356d0203756e10c8838d9bcf571863a9a1b02f39e382c90160eb816de5e0e428ac771d77b55a98fcbea516cf06857215779fd812ca3bef1b320000000000000000000000000000000000000000000000008ac7230489e800000000000000000000000000000000000000000000000003b857d40a5f1b571e9b00000000000000000000000000000000000000000000000000000000678fc35d00000000000000000000000000000000000000000000000000000194899289c811c0000c8000c800012acc1a9e7d40ffffffffffffff00252b2ba1e18353000000000000000000000000000000000000000000000000000000000000000001a000000000000000000000000000000000000000000000000000000000000000415fa415d76bc653ae5fc2f1676e62f28fd5fa39b2f1876d18d697e2a5bb449afc265d3d8bf326b9ea486a2a82e87969ff2a9a7a9c7120353f3b919c72688b5b481b0000000000000000000000000000000000000000000000000000000000000001014f030153020155020169060200480200ee02017d050000040191014002017d020108050020b003bd7ef756372b1fee4d0301250500200302f8dac17f958d2ee523a2206206994597c13d831ec70000000000000000000000000000000000000000000003bd7ef756372b1fee4d00000000000000000000000000000000000000000000000000000007aadae5b300000000000000000000000000000000000000000000000000000000678fc35e0000000000000000000000000000000000000000000000000000019489928b8911c0000c8000c80000002b7c531b58ffffffffffffff00252b2ba3cec00a000000000000000000000000000000000000000000000000000000000000000001a000000000000000000000000000000000000000000000000000000000000000417ad52fc1c93de8a3996c6dec5814c109e1cc8c6b7cb564c5a6324c201b29f9155c1bf9c14c6913f86d5cbc69ee8ebc6b1228e01c23e25a68b8d5e08b84ea90061b0000000000000000000000000000000000000000000000000000000000000001014f0301530201550201690602004802017d02030c0500400403200140128acb08000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d2500000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000014dac17f958d2ee523a2206206994597c13d831ec700000000000000000000000001047e02004803008a0500600404820080867b321132b18b5bf3775c0d9040d1872979422e00070a000000000000000000000000000000000000000000000000000000000000030527050080040000010201080000010000011c012500000800200146014f000000000002d102ef010806002002e402e7000001000002ef02f800000800200303030c00000000000460047e01080600200473047600000000400502051305130700200548054e000000000000000000000000000000000000000000";

    function run() public {
        vm.startBroadcast(adminPk);
        agg = new Aggregator();
        console.log(address(agg));
        vm.stopBroadcast(); 
    }
}
