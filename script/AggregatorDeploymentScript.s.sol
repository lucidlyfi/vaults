// SPDX-License-Identifier: MIT
pragma solidity ^0.8.17;

import {Script} from "../lib/forge-std/src/Script.sol";
import {console} from "../lib/forge-std/src/console.sol";
import {Aggregator} from "../src/Aggregator.sol";

import {Pool} from "../src/Poolv2.sol";

contract Zap is Script {
    Aggregator agg;
    address constant MAGPIEROUTER = 0x15392211222B46A0eA85a9A800830486D144848D;

    address constant pool = 0xec970a39fc83A492103Ed707a290e050E2DA375c;
    
    address private ADMIN_ADDRESS = 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266;

    address constant receiver = 0xc886825c3A03e73E6D3F209e8e6DD8933d0D313E;

    uint256 adminPk = 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80;

    bytes data = "0x73fc4457000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000002c7028600e0c886825c3a03e73e6d3f209e8e6dd8933d0d313e00000000000000000000000000000000000000009d39a5de30e57443bff2a8307a4256c8797a3497e000d4b000d9f800e4c000e6c7cba58443d82a025e52f31e0316b2fe4d8aac40e9a95c8adabececb09ca714929ad4e6a8ee02d8570bcb70ac61cbdb949e2464eb42d035164b95dc2d68122ea1b0000e0678fcde2b0030fc5a86f14149f2878f800c08ac7230489e80000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc20200ee0300e5128acb08000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d2500000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000014c02aaa39b223fe8d0a0e5c4f27ead9083c756cc20000000000000000000000000101080603008a0300e504010c008088e6a0c2ddd26feeb64f039a2c41296fcb3f564000070a0000000000000000000000000000000000000000000000000000000000000301af050000a0b86991c6218b36c1d19d4a2e9eb0ce3606eb481116898dda4015ed8ddefb84b6e8bc24528af2d80201d60201ea05004091695586f801f80201020703020b03020d05004003008a0300d3000000000000000000000000fffd8963efd1fc6a506488495d951d5263988d2500000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000014dac17f958d2ee523a2206206994597c13d831ec700000000000000000000000001010802004803008a0500600402210080867b321132b18b5bf3775c0d9040d1872979422e0301af050080040000010201080000000040018c019b019b07002001d001d6000001000001fe02070000000020020f022101ea00004002a102b202b207002002c602cc000000000000000000000000000000000000000000000000000000";

    function run() public {
        vm.startBroadcast(adminPk);

        agg = new Aggregator();
        // uint256 shares = agg.executeZapAndDeposit(0, receiver, 1 ether , pool, MAGPIEROUTER, data);
        // console.log(shares);
        vm.stopBroadcast();
    }
}
